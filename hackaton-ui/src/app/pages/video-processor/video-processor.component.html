<app-navbar></app-navbar>
<div class="processor-wrapper">
    <div class="container-processor">
        <h1>üé¨ FIAP X - Processador de V√≠deos</h1>
        <p style="text-align: center; color: #666;">
            Fa√ßa upload de um v√≠deo e receba um ZIP com todos os frames extra√≠dos!
        </p>

        <form id="uploadForm" class="upload-form" (submit)="onSubmit($event, videoFile)">

            <p><strong>Selecione um arquivo de v√≠deo:</strong></p>
            <input type="file" id="videoFile" #videoFile accept="video/*" multiple required>
            <br>
            <button type="submit">üöÄ Processar V√≠deo</button>
        </form>

        <div class="loading" id="loading">
            <p>‚è≥ Processando v√≠deo... Isso pode levar alguns minutos.</p>
        </div>

        <div class="result" id="result"></div>

    </div>


    <div class="processed-files-box">
        <h2>üìÅ Arquivos Processados</h2>

        <div *ngIf="isLoadingMock">Carregando arquivos processados...</div>

        <table class="processed-table" *ngIf="!isLoadingMock && mockProcessedFiles.length > 0">
            <thead>
                <tr>
                    <th>Nome do Arquivo</th>
                    <th>Data de Upload</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let file of mockProcessedFiles">
                    <td>{{ file.name }}</td>
                    <td>{{ file.date }}</td>
                    <td>
                        <span class="status-indicator" [ngClass]="{
              'status-success': file.status === 'success',
              'status-processing': file.status === 'processing',
              'status-error': file.status === 'error'
            }">
                        </span>
                        {{ file.status === 'success' ? 'Conclu√≠do' : file.status === 'processing' ? 'Em andamento' :
                        'Erro' }}
                    </td>
                </tr>
            </tbody>
        </table>

        <div *ngIf="!isLoadingMock && mockProcessedFiles.length === 0">
            Nenhum arquivo encontrado.
        </div>
    </div>
</div>